<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Simple Weather App</title>
    <link rel="stylesheet" type="text/css" href="public/css/style.css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300' rel='stylesheet' type='text/css'>
</head>

<body onLoad="getLocation()">
    
    <div class="container">
        <fieldset class= "field">   
            <form action="/" method="post">
                <input name="city" type="text" class="ghost-input" placeholder="Enter a City" required>
                <input type="submit" class="ghost-button" value="Get Weather">
            </form>

             <% if(weather !== null) { %>
                <p> <%= weather %> </p>
            <% } %>
            
            <% if(error !== null) {%>
                <p> <%= error %> </p>
            <% } %>

        </fieldset>
    </div>
    
    <div>
        <p id="demo">

        </p>
    </div>

    <script type="text/javascript">
        
        let demo = document.getElementById("demo");

        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition);
            } else {
                demo.innerHTML = "Geolocation is not supported by this browser.";
            }
        }

        function showPosition(position) {
            demo.innerHTML = "Latitude: " + position.coords.latitude +
                "<br>Longitude: " + position.coords.longitude;
        }

        
    </script>
</body>

</html>